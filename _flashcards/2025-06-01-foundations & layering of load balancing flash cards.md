---
layout: flashdeck
title: "Foundations & Layering of Load Balancing"
intro: |
  A comprehensive deck covering key concepts, motivations, and techniques in load balancing.
cards:
  - q: "What is the primary purpose of a load balancer?"
    a: "To distribute client requests across multiple backend servers so no single server becomes a bottleneck, improving scalability, availability, latency, and allowing zero-downtime deployments."
  - q: "Name the four core motivations for deploying load balancing."
    a: "High availability, horizontal scalability, performance/latency smoothing, and zero-downtime (rolling) deployments."
  - q: "How do load balancers contribute to high availability?"
    a: "They perform health checks and automatically reroute traffic away from failed or overloaded servers."
  - q: "What is a Virtual IP (VIP)?"
    a: "A service IP address that clients connect to; it is owned by the load balancer, not any single server, abstracting a pool of backend hosts behind one constant endpoint."
  - q: "At which OSI layer does L3 load balancing operate and what information does it use?"
    a: "Network layer (Layer 3); it makes decisions based solely on IP addresses."
  - q: "Give one technology commonly used for L3 global load balancing."
    a: "IP anycast (via BGP advertisements)."
  - q: "Which four-tuple does an L4 load balancer typically examine?"
    a: "Source IP, source port, destination IP, destination port."
  - q: "Why are L4 load balancers generally faster than L7 load balancers?"
    a: "They treat application data as opaque bytes, avoiding deep packet inspection and heavy parsing."
  - q: "List two common transport protocols an L4 balancer can distribute."
    a: "TCP and UDP (also QUIC, which runs over UDP)."
  - q: "What extra capability does an L7 load balancer have over an L4 balancer?"
    a: "It parses application-layer messages (e.g., HTTP) and can route based on URLs, headers, cookies, or body content."
  - q: "In HTTP load balancing, what header does an L7 proxy often inject to preserve the client’s IP?"
    a: "X-Forwarded-For."
  - q: "Describe the basic request/response flow involving a client, load balancer, and backend server."
    a: "DNS resolves → client connects to VIP → LB selects healthy backend → forwards request → backend responds → LB relays response to client."
  - q: "What is zero-downtime deployment in the context of load balancing?"
    a: "Taking servers out of rotation one at a time for upgrades while traffic continues to flow to other healthy servers."
  - q: "Which load-balancing layer is typically used for SSL/TLS termination and why?"
    a: "L7, because it needs to decrypt and inspect HTTP/HTTPS traffic to route intelligently."
  - q: "Explain stateless vs stateful load balancer designs."
    a: "Stateless LBs make deterministic choices (e.g., hashing) without storing per-connection state; stateful LBs track active sessions to support features like stickiness but add complexity."
  - q: "What is session affinity (a.k.a. sticky sessions)?"
    a: "A policy ensuring successive requests from the same client are routed to the same backend server."
  - q: "In global DNS-based load balancing, what limits the speed of fail-over?"
    a: "DNS caching (TTL); clients may continue using old IPs until the cache expires."
  - q: "Name one scenario where a simple L4 balancer is preferable to L7."
    a: "Distributing database TCP connections where content-aware routing is unnecessary and low latency overhead is critical."
  - q: "How does Anycast achieve global load distribution?"
    a: "The same IP is advertised from multiple locations; routing protocols direct clients to the nearest announcement."
  - q: "What is Direct Server Return (DSR) and at which layer is it used?"
    a: "An L4 technique where inbound traffic passes through the LB but outbound responses bypass it directly to the client, reducing LB bandwidth usage."
  - q: "Which load-balancing tier typically handles DDoS protection and why?"
    a: "Edge (global or regional) LBs, because they are the first point of contact and can filter malicious traffic before it reaches internal systems."
  - q: "Define health check in load-balancing terminology."
    a: "A periodic test (ping, TCP connect, HTTP GET, etc.) used by the LB to verify backend server readiness; failed checks remove servers from rotation."
  - q: "What is the main trade-off between placing multiple LB layers in a request path?"
    a: "Additional complexity and latency versus specialized, context-aware decision-making at each tier (global vs local vs service-level)."
  - q: "Which load-balancing algorithm equally cycles through backends in order?"
    a: "Round-robin."
  - q: "Which algorithm routes new flows to the backend with the fewest current connections?"
    a: "Least-connections (or least-load)."
  - q: "How does consistent hashing help with cache or shard affinity?"
    a: "It deterministically maps similar request keys to the same backend, reducing cache misses and rebalance churn."
  - q: "Why might a system choose edge L7 plus internal L4 layering?"
    a: "Edge L7 handles TLS termination and smart routing, while internal L4 fans out uniform traffic with minimal overhead."
  - q: "Give two examples of software-based L7 reverse proxies commonly used as load balancers."
    a: "NGINX and Envoy (also HAProxy, Traefik)."
  - q: "What protocol feature makes QUIC interesting for modern L4 balancing?"
    a: "QUIC multiplexes streams over UDP with built-in encryption and faster connection setup, but still appears as UDP to an L4 balancer."
  - q: "In a blue-green deployment, how does a load balancer enable quick rollback?"
    a: "Traffic can be switched back from the new (green) pool to the old (blue) pool with a simple configuration update."
  - q: "What document introduced Google’s high-performance software LB called Maglev?"
    a: "The USENIX 2016 paper 'Maglev: A Fast and Reliable Software Network Load Balancer.'"
  - q: "How does ECMP (Equal-Cost Multi-Path) relate to L3 load balancing?"
    a: "Routers use ECMP to distribute flows across multiple next hops with equal route cost, effectively balancing at the IP layer."
  - q: "Why can DNS-based GSLB be considered stateless once resolution completes?"
    a: "After a client gets an IP, the DNS system is no longer in the direct traffic path; routing decisions are embedded in the cached answer."
  - q: "What is the typical downside of stateful LB fail-over?"
    a: "Active sessions may be lost or require state replication, increasing complexity and recovery time."
  - q: "Summarize the main advantage and disadvantage of L7 over L4 load balancing."
    a: "Advantage: application-aware, granular routing and security. Disadvantage: higher CPU/latency overhead and lower raw throughput."
---
