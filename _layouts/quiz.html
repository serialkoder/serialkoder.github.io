---
layout: default                  <!-- keeps header / footer -->
---
<article class="markdown-body">
  {% assign quiz = page.questions %}
  <h2>{{ page.title }}</h2>

  <form id="quiz">
    {% for item in quiz %}
      <fieldset class="question" data-correct="{{ item.answer }}">
        <legend><strong>Q{{ forloop.index }}.</strong> {{ item.q }}</legend>

        {% for opt in item.options %}
          <label>
            <input type="radio"
                   name="q{{ forloop.parentloop.index }}"
                   value="{{ forloop.index0 }}">
            {{ opt }}
          </label><br>
        {% endfor %}
      </fieldset><hr/>
    {% endfor %}

    <button type="button" id="check">Check answers</button>
    <p id="result" style="font-weight:bold;"></p>
  </form>

  <script>
  document.getElementById('check').onclick = () => {
    let correct = 0, total = 0;
    document.querySelectorAll('#quiz .question').forEach(q => {
      total++;
      q.classList.remove('correct', 'incorrect');
      const labels = q.querySelectorAll('label');
      labels.forEach(lb => lb.classList.remove('correct', 'wrong'));

      const correctIdx = q.dataset.correct;
      if (labels[correctIdx]) labels[correctIdx].classList.add('correct');

      const chosen = q.querySelector('input:checked');
      if (chosen && chosen.value === correctIdx) {
        correct++;
        q.classList.add('correct');
      } else {
        q.classList.add('incorrect');
        if (chosen) labels[chosen.value].classList.add('wrong');
      }
    });
    document.getElementById('result').textContent =
      `You scored ${correct} / ${total}`;
  };
  </script>
</article>
