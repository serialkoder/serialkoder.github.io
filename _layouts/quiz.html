---
layout: default                  <!-- keeps header / footer -->
---
<article class="markdown-body">
  {% assign quiz = page.questions %}
  <h2>{{ page.title }}</h2>

  <form id="quiz">
    {% for item in quiz %}
      <fieldset class="question" data-correct="{{ item.answer }}">
        <legend><strong>Q{{ forloop.index }}.</strong> {{ item.q }}</legend>

        {% for opt in item.options %}
          <label>
            <input type="radio"
                   name="q{{ forloop.parentloop.index }}"
                   value="{{ forloop.index0 }}">
            {{ opt }}
          </label><br>
        {% endfor %}
      </fieldset><hr/>
    {% endfor %}

    <button type="button" id="check">Check answers</button>
    <p id="result" style="font-weight:bold;"></p>
  </form>

<script>
document.getElementById('check').onclick = () => {
  let correct = 0, total = 0;

  document.querySelectorAll('#quiz .question').forEach(q => {
    total++;

    const rightIndex = q.dataset.correct;               // "2"
    const chosen     = q.querySelector('input:checked');

    // wipe old state
    q.classList.remove('is-correct', 'is-wrong');
    q.querySelectorAll('label').forEach(l => l.classList.remove('right', 'wrong'));

    if (chosen) {
      const pickedIndex = chosen.value;                 // "3" etc.
      if (pickedIndex === rightIndex) {
        correct++;
        q.classList.add('is-correct');
      } else {
        q.classList.add('is-wrong');
      }
    } else {
      q.classList.add('is-wrong');                      // nothing chosen counts as wrong
    }

    /* mark the right & wrong options for clarity */
    q.querySelectorAll('input').forEach(inp => {
      const lbl = inp.parentElement;
      if (inp.value === rightIndex) lbl.classList.add('right');
      else if (inp.checked)         lbl.classList.add('wrong');
    });
  });

  document.getElementById('result').textContent =
    `You scored ${correct} / ${total}`;
};
</script>


</article>
